---
import { PortableText } from 'astro-portabletext';
import { sanityClient } from 'sanity:client';

import { portableTextComponents } from '@/features/article/components/portable-text/config';
import Docs from '@/layouts/docs/index.astro';

import '@fontsource/geist-sans/100.css';
import '@fontsource/geist-sans/200.css';
import '@fontsource/geist-sans/300.css';
import '@fontsource/geist-sans/400.css';
import '@fontsource/geist-sans/500.css';
import '@fontsource/geist-sans/600.css';
import '@fontsource/geist-sans/700.css';
import '@fontsource/geist-sans/800.css';
import '@fontsource/geist-sans/900.css';
import '@fontsource-variable/geist-mono';
import '@/styles/global.css';

export const prerender = false;

const metadata = {
  title: 'Draft',
};

const query = `*[_type == "article" && slug.current == $slug][0]{
  title,
  description,
  content
  }`;

const article = await sanityClient.fetch(query, { slug: 'installation' });
---

<Docs metadata={metadata}>
  <h1 class="text-2xl font-bold uppercase">{article.title}</h1>
  {article.description && <p>{article.description}</p>}
  <div class="prose">
    <PortableText value={article.content} components={portableTextComponents} />
  </div>
</Docs>
